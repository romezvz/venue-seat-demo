import{a as O}from"./chunk-UHZE7DYQ.js";import{Ca as y,Fa as x,Fb as N,Gb as B,Ma as S,Na as r,Oa as n,Qa as f,R as v,Ra as u,Sa as C,Ta as I,Ua as s,Va as b,Wa as a,Xa as g,Y as _,Ya as l,Z as E,Za as M,bb as m,cb as p,db as T,ta as t,ub as A,vb as h,wb as R}from"./chunk-LLJ5UMZW.js";function Y(i,o){if(i&1&&(r(0,"div",6),f(1),r(2,"h3",7),a(3),m(4,"translate"),n(),r(5,"p")(6,"strong"),a(7),m(8,"translate"),n(),a(9),n(),r(10,"p")(11,"strong"),a(12),m(13,"translate"),n(),a(14),n(),r(15,"p")(16,"strong"),a(17),m(18,"translate"),n(),a(19),n(),u(),n()),i&2){let e=o.$implicit,c=s(2);t(3),M(" ",p(4,8,"SUMMARY.EVENT"),": ",c.selectionService.selections[e].event.name," "),t(4),l("",p(8,10,"SUMMARY.DATE"),":"),t(2),l(" ",c.selectionService.selections[e].event.date," "),t(3),l("",p(13,12,"SUMMARY.SEATS"),":"),t(2),l(" ",c.getSelectedSeatIds(e).join(", ")," "),t(3),l("",p(18,14,"SUMMARY.TOTAL"),":"),t(2),l(" ",c.selectionService.getTotal(e)," \u20AC ")}}function k(i,o){if(i&1){let e=C();f(0),x(1,Y,20,16,"div",4),r(2,"button",5),I("click",function(){_(e);let d=s();return E(d.confirmPurchase())}),a(3),m(4,"translate"),n(),u()}if(i&2){let e=s();t(),S("ngForOf",e.selectionKeys()),t(2),l(" ",p(4,2,"SUMMARY.CONFIRM")," ")}}function w(i,o){i&1&&(r(0,"p",8),a(1),m(2,"translate"),n()),i&2&&(t(),g(p(2,1,"SUMMARY.NONE")))}var U=class i{selectionService=v(O);selectionKeys=()=>Object.keys(this.selectionService.selections).map(o=>+o);getSelectedSeatIds(o){return this.selectionService.selections[o]?.seats.map(e=>e.id)??[]}confirmPurchase(){this.selectionService.clearAll(),alert("Compra simulada con \xE9xito \u2705")}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=y({type:i,selectors:[["app-summary"]],decls:7,vars:5,consts:[["noData",""],[1,"p-6"],[1,"text-2xl","font-bold","mb-6"],[4,"ngIf","ngIfElse"],["class","mb-6 border-b pb-4",4,"ngFor","ngForOf"],[1,"mt-4","bg-zinc-800","dark:bg-white","text-white","dark:text-zinc-800","px-4","py-2","rounded",3,"click"],[1,"mb-6","border-b","pb-4"],[1,"text-xl","font-semibold"],[1,"text-gray-500"]],template:function(e,c){if(e&1&&(r(0,"div",1)(1,"h2",2),a(2),m(3,"translate"),n(),x(4,k,5,4,"ng-container",3)(5,w,3,3,"ng-template",null,0,T),n()),e&2){let d=b(6);t(2),g(p(3,3,"SUMMARY.TITLE")),t(2),S("ngIf",c.selectionKeys().length>0)("ngIfElse",d)}},dependencies:[R,A,h,B,N],encapsulation:2})};export{U as SummaryComponent};
